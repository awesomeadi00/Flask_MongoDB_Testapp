{% extends 'base.html' %}
<!-- This is the main page: -->

{% block container %}
    <h2>Posts:</h2>

    <section class="posts">
        <article class="post new-post">
            {% include 'new_post_form.html' %}
        </article>

        <!-- Checking for every document in docs (database) -->
        {% for doc in docs %}
        <article class="post">
            <nav class="controls">
                <!-- Here, we get the url for the edit.html file, we give post_id the id of the document they're trying to edit or delete -->
                <a href="{{ url_for('edit_post', post_id = doc._id)}}">Edit</a> | <a href="{{ url_for('delete_post', post_id = doc._id)}}">Delete</a>
            </nav>

            <p class="author">
                <!-- This is a way to pass data to HTML by using double braces -->
                {{doc.name}} at {{doc.created_at.strftime("%H:%M on %d %B %Y")}}
            </p>

            <p class="message">
                <!-- This is a way to pass data to HTML by using double braces -->
                {{doc.message}}
            </p>
        </article>
        {%endfor%}
    </section>
{%endblock%}

